<!DOCTYPE html>
<html lang="en">
<head>
<link rel="stylesheet" href="https://unpkg.com/xp.css">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<style>
    @font-face { font-family: XPTahoma; src: url('windows-xp-tahoma.otf'); }
    
    body {
        background-color: #008080; /* Windows XP teal background */
        font-family: XPTahoma;
        font-size: 23px;
        color: black;
    }
    a {
        text-decoration: none;
    }
    h1, p1, b {
        color: white;
    }
    .mention {
        color: orange;
        font-weight: bold;
    }
    /* New styles for the chat box window */
    .chat-window {
        max-width: 600px;
        margin: 20px auto;
    }
    .chat-box {
        height: 300px;
        overflow-y: auto;
        padding: 5px;
    }
    /* Style the list items to remove default bullets */
    #messages {
        list-style-type: none;
        padding: 0;
        margin: 0;
    }
    #messages li {
        margin-bottom: 5px;
    }
    .typing-notification {
        font-style: italic;
        color: #666;
        padding-top: 5px;
    }
    .music-controls {
        text-align: center;
        margin-top: 20px;
    }
    .music-controls select, .music-controls button {
        padding: 5px;
        margin: 5px;
    }
</style>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Chatx32</title>
</head>
<body>
<div class="chat-window window">
    <div class="title-bar">
        <div class="title-bar-text">Chatx32 V0.0.1</div>
        <div class="title-bar-controls">
            <button aria-label="Minimize"></button>
            <button aria-label="Maximize"></button>
            <button aria-label="Close"></button>
        </div>
    </div>
    <div class="window-body">
        <div id="chat" class="chat-box">
            <ul id="messages">
                <span class="message-time"></span>
            </ul>
        </div>
        <div id="typing-notification" class="typing-notification"></div>
        <form id="send-message" style="margin-top: 10px;">
            <div class="field-row">
                <input id="chat-txt" type="text" autocomplete="off" required placeholder="Type your message..." style="width: 100%;">
                <button id="chat-btn" type="submit" onclick="play()">Send</button>
            </div>
        </form>
    </div>
</div>

<audio id="audio" src="msn.mp3"></audio>
<hr>

<center>
    <b><h1 style="color: lime; font-size: 23px">Spatify.exe</h1></b>
</center>
<div class="music-controls">
    <label for="music-selector">Select Music:</label>
    <select id="music-selector" onchange="loadAndPlaySelectedMusic()">
        <option value="">-- No Music --</option>
        <option value="lotus.mp3">Lotus</option>
        <option value="music/Body Measurement.mp3">Body Measurement (Nintendo)</option>
        <option value="music/Editing a Mii.mp3">Editing a Mii (Nintendo)</option>
    </select>
    <button id="play-music-btn" onclick="playCurrentMusic()">Play</button>
    <button id="pause-music-btn" onclick="pauseCurrentMusic()">Pause</button>
    <button id="stop-music-btn" onclick="stopCurrentMusic()">Stop</button>
</div>
<hr>
<audio id="background-music-player" loop volume="0.1"></audio>

<center>
    <h1>What is <b style="color:green;">Chatx32?</b></h1>
</center>
<center>
    <p1>A shitty chat app made by <a href="https://www.twitter.com/mrfromalgeria" style="color:white;">MrfromAlgeria</a> 3 years ago on my phone in under an hour,<br> Follow <a href="https://firebase.google.com/terms" style="color:yellow">Firebase</a>'s TOS</p1>
</center>
<br>
<center>
    <img src="src/img/sharks.png" width="15%" height="15%">
</center>
<center>
    <p><i>Kboo's Sharkies</i></p>
</center>

<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-database.js"></script>
<script src="script.js"></script>
<script>
    const backgroundMusicPlayer = document.getElementById("background-music-player");
    const musicSelector = document.getElementById("music-selector");
    
    function loadAndPlaySelectedMusic() {
        const selectedSong = musicSelector.value;
        if (selectedSong) {
            backgroundMusicPlayer.src = selectedSong;
            backgroundMusicPlayer.load();
            playCurrentMusic();
        } else {
            backgroundMusicPlayer.pause();
            backgroundMusicPlayer.src = "";
        }
    }
    
    function playCurrentMusic() {
        if (backgroundMusicPlayer.src) {
            backgroundMusicPlayer.volume = 0.1;
            backgroundMusicPlayer.play().catch(e => console.error("Failed to play music:", e));
        }
    }
    
    function pauseCurrentMusic() {
        backgroundMusicPlayer.pause();
    }
    
    function stopCurrentMusic() {
        backgroundMusicPlayer.pause();
        backgroundMusicPlayer.currentTime = 0;
    }
    
    function play() {
        var audio = document.getElementById("audio");
        audio.play();
    }
</script>
</body>
</html>
